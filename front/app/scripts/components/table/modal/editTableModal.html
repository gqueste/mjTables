
<div class="modal-header">
    <h3 class="modal-title">Editer la table</h3>
</div>

<div class="modal-body">
    <form class="form-horizontal">
        <div class="form-group">
            <label class="col-sm-3 control-label">
                Nom de la campagne
            </label>
            <div class="col-sm-9">
                <input class="form-control" type="text" ng-model="table.table_nom" placeholder="Nom">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">
                Jeu
            </label>
            <div class="col-sm-9">
                <select class="form-control" ng-model="table.game_id" ng-options="game.id as game.nom for game in games | orderBy:'nom'"></select>
            </div>
        </div>
        <div class="form-group">
            <a href="" class="col-sm-offset-3" ng-click="toogleGameAction()" ng-if="!addGameAction">Ajouter un nouveau jeu</a>
            <a href="" class="col-sm-offset-3" ng-click="toogleGameAction()" ng-if="addGameAction">Annuler</a>
            <div class="alert alert-success" role="alert" ng-if="addGameSuccess" ng-bind-html="addGameSuccess"></div>
            <div class="panel panel-default" ng-if="addGameAction">
                <div class="panel-body">
                    <div class="form-group">
                        <label class="col-sm-3 control-label">
                            Nom du nouveau jeu
                        </label>
                        <div class="col-sm-9">
                            <input class="form-control" type="text" ng-model="newGame.nom" placeholder="Nom du jeu">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">
                            Description
                        </label>
                        <div class="col-sm-9">
                            <textarea class="form-control" ng-model="newGame.description" placeholder="Description du jeu"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-block btn-primary" ng-disabled="!newGame.nom || !newGame.description" ng-click="addGame()">Ajouter ce jeu</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">
                Maître du Jeu
            </label>
            <div class="col-sm-9">
                <p class="form-control-static">{{table.mj_username}}</p>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">
                Statut
            </label>
            <div class="col-sm-9">
                <select class="form-control" ng-model="table.status_id" ng-options="statut.id as statut.libelle for statut in status | orderBy:'libelle'"></select>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">
                Fréquence
            </label>
            <div class="col-sm-9">
                <select class="form-control" ng-model="table.frequence_id" ng-options="frequence.id as frequence.libelle for frequence in frequences | orderBy:'libelle'"></select>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">
                Nombre de Places disponibles
            </label>
            <div class="col-sm-9">
                <input class="form-control" type="number" ng-model="table.nbJoueursTotal">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">
                Description
            </label>
            <div class="col-sm-9">
                <text-angular ng-model="table.description" ta-toolbar="textAngular.getConfig()"></text-angular>
            </div>
        </div>
    </form>
</div>

<div class="modal-footer">
    <button class="btn btn-primary" ng-click="ok()" ng-disabled="!table.table_nom || !table.game_id || !table.status_id || !table.frequence_id || table.nbJoueursTotal < 1 || !table.description">Valider</button>
    <button class="btn btn-warning" ng-click="cancel()">Annuler</button>
</div>